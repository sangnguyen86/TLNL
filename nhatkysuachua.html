<!DOCTYPE html>
<html>
  <head>
  <!--Youtube: Netmediacctv-->
	<title>NHẬT KÝ SỮA CHỮA MÁY</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
	<style>
/*the container must be positioned relative:*/
.custom-select {
  position: relative;
  font-family: Arial;
}

.custom-select select {
  display: none; /*hide original SELECT element:*/
}

.select-selected {
  background-color: DodgerBlue;
}

/*style the arrow inside the select element:*/
.select-selected:after {
  position: absolute;
  content: "";
  top: 14px;
  right: 10px;
  width: 0;
  height: 0;
  border: 6px solid transparent;
  border-color: #fff transparent transparent transparent;
}

/*point the arrow upwards when the select box is open (active):*/
.select-selected.select-arrow-active:after {
  border-color: transparent transparent #fff transparent;
  top: 7px;
}

/*style the items (options), including the selected item:*/
.select-items div,.select-selected {
  color: #ffffff;
  padding: 8px 16px;
  border: 1px solid transparent;
  border-color: transparent transparent rgba(0, 0, 0, 0.1) transparent;
  cursor: pointer;
  user-select: none;
}

/*style items (options):*/
.select-items {
  position: absolute;
  background-color: DodgerBlue;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 99;
}

/*hide the items when the select box is closed:*/
.select-hide {
  display: none;
}

.select-items div:hover, .same-as-selected {
  background-color: rgba(0, 0, 0, 0.1);
}
</style>
  </head>
  <body>
    <section class="hero is-primary is-bold is-center">
      <div class="hero-body container"  style="text-align: center; height:50px; padding: 5px;">        
          <span style="font-size: 30px; color: #ffffff; font-weight: bold;">CHỈ SỐ NƯỚC</span>		
      </div>
    </section>
	<div style="height: 10px"></div>
	<div class="container" style="border: solid 2px #00a779; border-radius: 10px" > 
		<form id="form" class="container m-4 pl-4" method="POST">
		
		<div class="field">
			<div class="control">
				<p id="timestamp" >
			</div>
		</div>
		
		<div class="field">
			<label class="label">NGÀY</label>
			<div class="control">
			  <input
				class="input"
				type="date"
				placeholder="NGÀY"
				name="NGÀY"  <!-- Tên cột trong bảng
			  />
			</div>
		  </div>	
<!-- GIỜ-->
	<div class="field">
	<label class="label">MÁY/KHU VỰC</label>
	
		<div class="custom-select" style="width:200px;">
		<select id="machinename" name="MÁY" >
			<!-- DANH MỤC MÁY XƯỞNG SẢN XUẤT-->
			<option value="MÁY CẮT">MÁY CẮT</option>
			<option value="GIA ẨM ĐẦU LÁ">GIA ẨM ĐẦU LÁ</option>
        		<option value="BĂNG TẢI LỰA ĐẦU LÁ">BĂNG TẢI LỰA ĐẦU LÁ</option>
			<option value="PHÂN LI ĐẦU LÁ">PHÂN LI ĐẦU LÁ </option>
        		<option value="GIA ẨM THÂN LÁ 01">GIA ẨM THÂN LÁ 01 </option>
        		<option value="CỤM CHIA DÒNG VÀ BĂNG TẢI LỰA LÁ">CỤM CHIA DÒNG VÀ BĂNG TẢI LỰA LÁ </option>
        		<option value="MÁY SÀNG CÁT">MÁY SÀNG CÁT</option>
        		<option value="THÙNG CHỨA THÂN LÁ">SILO LÁ SƠ CHẾ</option>
        		<option value="GIA ẨM THÂN LÁ 02">GIA ẨM THÂN LÁ 02 </option>
        		<option value="MÁY ĐẬP CẤP 01">MÁY ĐẬP CẤP 01 </option>
        		<option value="MÁY ĐẬP CẤP 02">MÁY ĐẬP CẤP 02 </option>
        		<option value="MÁY ĐẬP CẤP 03">MÁY ĐẬP CẤP 03 </option>
        		<option value="MÁY ĐẬP CẤP 04">MÁY ĐẬP CẤP 04 </option>
        		<option value="MÁY PHÂN LI CẤP 01 BUỒNG 01">MÁY PHÂN LI CẤP 01 BUỒNG 01 </option>
        		<option value="MÁY PHÂN LI CẤP 01 BUỒNG 02">MÁY PHÂN LI CẤP 01 BUỒNG 02 </option>
        		<option value="MÁY PHÂN LI CẤP 01 BUỒNG 03">MÁY PHÂN LI CẤP 01 BUỒNG 03 </option>
        		<option value="MÁY PHÂN LI CẤP 01 BUỒNG 04">MÁY PHÂN LI CẤP 01 BUỒNG 04 </option>
        		<option value="MÁY PHÂN LI CẤP 02 BUỒNG 01">MÁY PHÂN LI CẤP 02 BUỒNG 01 </option>
        		<option value="MÁY PHÂN LI CẤP 02 BUỒNG 02">MÁY PHÂN LI CẤP 02 BUỒNG 02 </option>
        		<option value="MÁY PHÂN LI CẤP 02 BUỒNG 03">MÁY PHÂN LI CẤP 02 BUỒNG 03 </option>
        		<option value="MÁY PHÂN LI CẤP 03 BUỒNG 01">MÁY PHÂN LI CẤP 03 BUỒNG 01 </option>
        		<option value="MÁY PHÂN LI CẤP 03 BUỒNG 03">MÁY PHÂN LI CẤP 03 BUỒNG 02 </option>
        		<option value="MÁY PHÂN LI CẤP 04">MÁY PHÂN LI CẤP 04 </option>
        		<option value="CỤM HỒI CỌNG">CỤM HỒI CỌNG</option>
        		<option value="CỤM SÀN RUNG MÁY ĐẬP">CỤM SÀN RUNG MÁY ĐẬP</option>
        		<option value="CỤM BĂNG TẢI MÁY ĐẬP">CỤM BĂNG TẢI MÁY ĐẬP</option>
        		<option value="SILO 01">SILO CHỨA 01 THÀNH PHẨM</option>
        		<option value="SILO 02">SILO CHỨA 02 THÀNH PHẨM</option>
        		<option value="SILO 03">SILO CHỨA 03 THÀNH PHẨM</option>
        		<option value="MÁY SẤY LÁ">MÁY SẤY LÁ</option>
        		<option value="MÁY SẤY LÁ - KHOANG SẤY 01">MÁY SẤY LÁ - KHOANG SẤY 01</option>
        		<option value="MÁY SẤY LÁ - KHOANG SẤY 02">MÁY SẤY LÁ - KHOANG SẤY 02</option>
        		<option value="MÁY SẤY LÁ - KHOANG SẤY 03">MÁY SẤY LÁ - KHOANG SẤY 03</option>
        		<option value="MÁY SẤY LÁ - KHOANG SẤY 04">MÁY SẤY LÁ - KHOANG SẤY 04</option>
        		<option value="MÁY SẤY LÁ - KHOANG SẤY 05">MÁY SẤY LÁ - KHOANG SẤY 05</option>
        		<option value="MÁY SẤY LÁ - KHOANG SẤY 06">MÁY SẤY LÁ - KHOANG SẤY 06</option>
        		<option value="MÁY SẤY LÁ - KHOANG SẤY 07">MÁY SẤY LÁ - KHOANG SẤY 07</option>
        		<option value="MÁY SẤY LÁ - KHOANG SẤY 08">MÁY SẤY LÁ - KHOANG SẤY 08</option>
        		<option value="MÁY SẤY LÁ - KHOANG SẤY 09">MÁY SẤY LÁ - KHOANG SẤY 09</option>
        		<option value="MÁY SẤY LÁ - KHOANG 11">MÁY SẤY LÁ - KHOANG 11</option>
        		<option value="MÁY SẤY LÁ - KHOANG HỒI ẨM 01">MÁY SẤY LÁ - KHOANG HỒI ẨM 01</option>
        		<option value="MÁY SẤY LÁ - KHOANG HỒI ẨM 02">MÁY SẤY LÁ - KHOANG HỒI ẨM 02</option>
        		<option value="MÁY SẤY LÁ - KHOANG HỒI ẨM 03">MÁY SẤY LÁ - KHOANG HỒI ẨM 03</option>
        		<option value="MÁY SẤY LÁ - KHOANG HỒI ẨM 04">MÁY SẤY LÁ - KHOANG HỒI ẨM 04</option>
			<option value="BĂNG TẢI SAU MÁY SẤY LÁ">BĂNG TẢI SAU MÁY SẤY LÁ</option>	
			<option value="BĂNG TẢI CÂN VÀ RẢI LÁ">BĂNG TẢI CÂN VÀ RẢI LÁ</option>
			<option value="RAM ÉP CHÍNH">RAM ÉP CHÍNH</option>
			<option value="Ô ÉP SỐ 01">Ô ÉP SỐ 01</option>
        		<option value="Ô ÉP SỐ 02">Ô ÉP SỐ 02</option>
			<option value="CỤM BĂNG TẢI ÉP KIỆN ">CỤM BĂNG TẢI ÉP KIỆN</option>
			<option value="CỤM MÁY ÉP LẠI VÀ BẮN ĐAI ">CỤM MÁY ÉP LẠI VÀ BẮN ĐAI</option>
			<option value="MÁY SẤY CỌNG - KHOANG SỐ 01">MÁY SẤY CỌNG - KHOANG SỐ 01</option>
			<option value="MÁY SẤY CỌNG - KHOANG SỐ 02">MÁY SẤY CỌNG - KHOANG SỐ 02</option>
			<option value="MÁY SẤY CỌNG - KHOANG SỐ 03">MÁY SẤY CỌNG - KHOANG SỐ 03</option>
			<option value="MÁY SẤY CỌNG - KHOANG SỐ 04">MÁY SẤY CỌNG - KHOANG SỐ 04</option>
			<option value="MÁY SẤY CỌNG - KHOANG SỐ 05">MÁY SẤY CỌNG - KHOANG SỐ 05</option>
			<option value="CỤM HÚT VÀ SÀN RUNG CỌNG">CỤM HÚT VÀ SÀN RUNG CỌNG</option>
			<option value="CỤM HÚT VÀ SÀN RUNG VỤN">CỤM HÚT VÀ SÀN RUNG VỤN</option>
			<option value="CỤM BĂNG TẢI CHUYỂN THÙNG CỌNG">CỤM BĂNG TẢI CHUYỂN THÙNG CỌNG</option>
			<option value="CỤM ÉP CỌNG VÀ BẮN ĐAI">CỤM ÉP CỌNG VÀ BẮN ĐAI</option>
			<option value="MÁY HÚT BỤI SỐ 01">MÁY HÚT BỤI SỐ 01</option>
			<option value="MÁY HÚT BỤI SỐ 02">MÁY HÚT BỤI SỐ 02</option>
			<option value="MÁY HÚT BỤI SỐ 03">MÁY HÚT BỤI SỐ 03</option>
			<option value="HỆ THỐNG THUỶ LỰC">HỆ THỐNG THUỶ LỰC</option>
			<!-- CƠ ĐIỆN LÒ HƠI QUẢN LÝ-->
			<option value="MÁY HÚT BỤI- MÁY CẮT">MÁY HÚT BỤI- MÁY CẮT</option>
			<option value="MÁY HÚT BỤI- PHÂN LI ĐẦU LÁ">MÁY HÚT BỤI- PHÂN LI ĐẦU LÁ</option>
			<option value="BUỒNG DẬP BỤI">BUỒNG DẬP BỤI</option>
			<option value="MÁY XỬ LÝ MÙI SỐ 01">MÁY XỬ LÝ MÙI SỐ 01</option>
			<option value="MÁY XỬ LÝ MÙI SỐ 02">MÁY XỬ LÝ MÙI SỐ 02</option>
			<option value="MÁY XỬ LÝ MÙI SỐ 03">MÁY XỬ LÝ MÙI SỐ 03</option>
			<option value="MÁY KHÍ TƯƠI">MÁY KHÍ TƯƠI</option>
			<option value="LÒ HƠI">LÒ HƠI</option>
			<option value="LÒ HƠI-THÁP TẢI THAN">LÒ HƠI-THÁP TẢI THAN</option>
			<option value="LÒ HƠI-VÍT TẢI THAN">LÒ HƠI-VÍT TẢI THAN</option>
			<option value="LÒ HƠI-CỤM QUẠT THỔI">LÒ HƠI-CỤM QUẠT THỔI</option>
			<option value="LÒ HƠI-CỤM QUẠT HÚT">LÒ HƠI-CỤM QUẠT HÚT</option>
			<option value="LÒ HƠI-HỆ THỐNG DẬP BỤI">LÒ HƠI-HỆ THỐNG DẬP BỤI</option>
			<option value="LÒ HƠI-HỆ THỐNG XỬ LÝ NƯỚC THẢI">LÒ HƠI-HỆ THỐNG XỬ LÝ NƯỚC THẢI</option>
			<option value="LÒ HƠI-ỐNG KHÓI">LÒ HƠI-ỐNG KHÓI</option>
			<option value="MÁY NÉN KHÍ SỐ 01">MÁY NÉN KHÍ SỐ 01</option>
			<option value="MÁY NÉN KHÍ SỐ 02">MÁY NÉN KHÍ SỐ 02</option>
			<option value="MÁY TÁCH NƯỚC">MÁY TÁCH NƯỚC</option>
			<!-- KHU VỰC-->
			<option value="PHÒNG MCC">PHÒNG MCC</option>
			<option value="PHÒNG ĐIỀU PHỐI">PHÒNG ĐIỀU PHỐI</option>
			<option value="TRẠM ĐIỆN">TRẠM ĐIỆN</option>
			<option value="TRẠM BƠM CTY">TRẠM BƠM CTY</option>

        		<option value="KHÁC">KHÁC </option>
				</select>
			</div>
		  </div>

		  <div class="field">
			<label class="label">NƯỚC CẤP (SỐ LỚN)</label>
			<div class="control">
			  <input
				class="input"
				type="number"
				min="1"
				placeholder="Ghi chỉ số đồng hồ lớn của nước cấp"
				name="NƯỚC CẤP (ĐỒNG HỒ LỚN):"
			  />
			</div>
		  </div>
		  
		  <div class="field">
			<label class="label">NƯỚC CẤP (SỐ NHỎ)</label>
			<div class="control">
			  <input
				class="input"
				type="number"
				min="1"
				placeholder="Ghi chỉ số đồng hồ nhỏ của nước cấp, chỉ ghi số nguyên không lấy dấu phẩy"
				name="NƯỚC CẤP (ĐỒNG HỒ NHỎ):"
			  />
			</div>
			
			<div class="field">
			<label class="label">NƯỚC THẢI (SỐ LỚN)</label>
			<div class="control">
			  <input
				class="input"
				type="number"
				min="1"
				placeholder="Ghi chỉ số đồng hồ lớn nước thải, ghi số nguyên"
				name="NƯỚC THẢI (ĐỒNG HỒ LỚN)"
			  />
			</div>
			<div class="field">
			<label class="label">NƯỚC THẢI (SỐ NHỎ)</label>
			<div class="control">
			  <input
				class="input"
				type="number"
				min="1"
				placeholder="Ghi chỉ số đồng hồ nhỏ nước thải, ghi số nguyên"
				name="NƯỚC THẢI (ĐỒNG HỒ NHỎ)"
			  />
			</div>
		 

		  <div class="field is-grouped">
			<div class="control">
			  <button class="button is-primary" type="submit" id="submit-button">
				Nhập
			  </button>
			</div>
			<div class="control">
			  <button class="button is-danger" type="button" onclick="getNewRecord()">Xóa</button>
			</div>
		  </div>
		</form>
		<div
		  id="message"
		  style="
			display: none;
			margin: 20px;
			font-weight: bold;
			color: green;
			padding: 8px;
			background-color: beige;
			border-radius: 4px;
			border-color: aquamarine;
		  "
		></div>
	</div>

    <script>
      document.getElementById("form").addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent the default form submission
        document.getElementById("message").textContent = "Submitting..";
        document.getElementById("message").style.display = "block";
        document.getElementById("submit-button").disabled = true;


        // Collect the form data
        var formData = new FormData(this);
        var keyValuePairs = [];
        for (var pair of formData.entries()) {
          keyValuePairs.push(pair[0] + "=" + pair[1]);
        }

        var formDataString = keyValuePairs.join("&");

        // Send a POST request to your Google Apps Script
        fetch(
          "webURL",
          {
            redirect: "follow",
            method: "POST",
            body: formDataString,
            headers: {
              "Content-Type": "text/plain;charset=utf-8",
            },
          }
        )
          .then(function (response) {
            // Check if the request was successful
            if (response) {
              return response; // Assuming your script returns JSON response
            } else {
              throw new Error("Failed to submit the form.");
            }
          })
          .then(function (data) {
            // Display a success message
            document.getElementById("message").textContent =
              "Data submitted successfully!";
            document.getElementById("message").style.display = "block";
            document.getElementById("message").style.backgroundColor = "green";
            document.getElementById("message").style.color = "beige";
            document.getElementById("submit-button").disabled = false;
            document.getElementById("form").reset();

            setTimeout(function () {
              document.getElementById("message").textContent = "";
              document.getElementById("message").style.display = "none";
            }, 2600);
          })
          .catch(function (error) {
            // Handle errors, you can display an error message here
            console.error(error);
            document.getElementById("message").textContent =
              "An error occurred while submitting the form.";
            document.getElementById("message").style.display = "block";
          });
      });
	  
	    function getNewRecord(){
		document.getElementById("form").reset();
		
		};
		 function updateTimestamp() {
          const now = new Date();
          const datetime = now.toLocaleString();
          document.getElementById("timestamp").textContent = datetime;
        }
        updateTimestamp();
        setInterval(updateTimestamp, 1000);
    </script>
  </body>
</html>
