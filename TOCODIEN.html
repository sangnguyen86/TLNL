<!doctype html>
<!-- ============================================
     FILE HTML ĐẦY ĐỦ – STEEL × CYBER BLUE
     + Hiệu ứng viền sáng NAV
     + Hiệu ứng chuyển cảnh giữa các IFRAME
     ============================================ -->												 											   																																			 
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

 <!-- Tiêu đề trang -->							
  <title>TỔ CƠ ĐIỆN</title>

  <!-- ============================================
       CSS BÊN NGOÀI – Bootstrap & Bootstrap Icons
       ============================================ -->													   
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/livecanvas-team/ninjabootstrap/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>

  <!-- ============================================
       CSS THEME & LAYOUT
       ============================================ -->
  <style>
    /* ========== Token màu & biến layout ========== */
    :root{
      --bg: #0a1222;
      --surface: #101827;
      --surface-2: #131c2e;
      --surface-3: #0b1323;
      --text: #e8ecf5;
      --muted: #9ca3af;
      --primary: #3b82f6;
      --primary-200: #bfdbfe;
      --primary-500: #3b82f6;
      --border: rgba(80,120,180,0.28);
	  
      --radius: 12px;

      --banner-maxw: 1400px;
      /* Chiều cao các layer sticky */
      --h-header: 62px;
      --gap-hb: 10px;
      --h-banner: 96px;
      --gap-bm: 12px;
    }

    html, body { height:100%; margin:0; background:var(--bg); color:var(--text); }
    body {
      background: var(--bg);
      color: var(--text);
      display:flex;
      flex-direction:column;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }	  													 				   																														 

    /* =====================================================
       HEADER — steel frame + soft glow
       ===================================================== */
    .top-header{
      height: var(--h-header);
      display:flex; align-items:center; justify-content:center;
      background:linear-gradient(180deg,#0d1627,#0a1320);
      border-bottom:1px solid var(--border);
      box-shadow:0 4px 18px rgba(0,0,0,.45);
      position:sticky; top:0; z-index:1040;
    }
    .top-header h1{
      margin:0;
      font-size: clamp(1.1rem, 2vw, 1.55rem);
      font-weight:700;
      letter-spacing:.08em;
      color:var(--primary-200);
      text-shadow:0 0 14px rgba(90,150,255,.55);
    }

    /* =====================================================
       BANNER — Steel plate + subtle glow + reduced brightness
       ===================================================== */
    .kaizen-wrap{ height: calc(var(--h-banner) + var(--gap-hb)); }

    .kaizen-banner{
      position: sticky;
      top: var(--h-header);
      padding-top: var(--gap-hb);
      z-index: 1035;
      display:flex; justify-content:center;
    }

    .kb-surface{
      width:100%; max-width:var(--banner-maxw);
      height:var(--h-banner);
      border-radius:var(--radius);
      border:1px solid rgba(110,150,220,0.25);
      background:
        radial-gradient(circle at 20% 0%, rgba(80,120,200,.25), transparent 55%),
        linear-gradient(180deg,#0c1628,#0e182e 60%,#0a1322);
      box-shadow:
        0 4px 20px rgba(0,0,0,.4),
        0 0 22px rgba(80,120,200,.16);
      position:relative;
      overflow:hidden;
    }

    .kb-layer{ position:absolute; inset:0; pointer-events:none; }

  /* Grid nền banner */						   
    .kb-grid{
      background:
        repeating-linear-gradient(to right, rgba(90,140,220,.16) 0 1px, transparent 1px 22px),
        repeating-linear-gradient(to bottom, rgba(90,140,220,.16) 0 1px, transparent 1px 22px);
      opacity:.35;
    }

	  /* Ánh sáng */				
    .kb-glow{
      background:
        radial-gradient(900px 110px at 20% -20%, rgba(120,160,240,.22), transparent 70%),
        radial-gradient(600px 100px at 90% 120%, rgba(140,180,255,.16), transparent 70%);
      opacity:.7;
      mix-blend-mode:screen;
    }

    .kb-inner{
      height:100%;
      display:flex; align-items:center; justify-content:center;
      padding:0 12px;
      position:relative;
      text-align:center;
    }

    .kb-title-1{
      font-size: clamp(0.82rem, 1.3vw, 1.05rem);
      letter-spacing:.10em;
      text-transform:uppercase;
      color: var(--primary-200);
      text-shadow:0 0 10px rgba(120,170,255,.45);
    }

    .kb-title-2{
      font-size: clamp(0.76rem, 1.2vw, .95rem);
      letter-spacing:.09em;
      margin-top:2px;
      color: var(--primary-200);
      text-shadow:0 0 10px rgba(120,170,255,.45);
    }

    .kb-5s{
      margin-top:4px;
      font-size: clamp(0.6rem, 1vw, .8rem);
      color:#d6e4ff;
      opacity:.9;
    }

    /* =====================================================
       NAVBAR — better glow + highlight line
       ===================================================== */
    .navbar-dark.bg-dark{
      position:sticky;
      top: calc(var(--h-header) + var(--gap-hb) + var(--h-banner) + var(--gap-bm));
      z-index:1034;
      max-width:var(--banner-maxw);
      margin:0 auto;
      border-radius:var(--radius);
      background:#0e1729 !important;
      border:1px solid rgba(110,150,220,.22);
      box-shadow:0 4px 20px rgba(0,0,0,.45);
    }

    .nav-link{
      padding:10px 14px;
      font-size:.82rem;
      letter-spacing:.04em;
      position:relative;
      transition:.2s;
      opacity:.85;
    }
    .nav-link:hover,
    .nav-link.active{
      color:var(--primary-200) !important;
      opacity:1;
    }

    .nav-link.active::after,
    .nav-link:hover::after{
      content:"";
      position:absolute;
      left:20%; right:20%; bottom:4px;
      height:3px;
      background:linear-gradient(90deg,#87b7ff,#bfdcff,#87b7ff);
      border-radius:99px;
      box-shadow:0 0 8px rgba(110,150,240,.8);
    }




















    /* ========== NỘI DUNG + IFRAMES ========== */
	.content-wrapper{ flex:1; display:flex; flex-direction:column; background:var(--surface-2); }
    .frame-wrap{ 
		flex:1; 
		position:relative; 
		}						       
    iframe{
      position:absolute; inset:0; width:100%; height:100%;
      border:none; background: var(--surface-3); display:none;				  						 												   												   						  
    }
	iframe.active{ display:block; }			
	
	/* Hiệu ứng chuyển cảnh cho iframe */
    iframe.fade-anim{
      animation: iframeFade .35s ease-out;
						  
    }
    @keyframes iframeFade{
      from{
        opacity:0;
        transform: translateY(10px) scale(0.99);
        filter: blur(4px);
				  
					   
								  
					
						   
												   
					  
					 
	   
				
					 
											
					
	   
			  
											
												   
						 
					  
					   
      }
      to{
        opacity:1;
        transform: translateY(0) scale(1);
        filter: blur(0);
      }
    }

    /* =====================================================
       BOTTOM NAV (MOBILE)
       ===================================================== */
    @media(max-width: 991.98px){
      .bottom-nav{
        position:fixed;
        left:0; right:0; bottom:0;
        height:60px;
        background:#0f182b;
        border-top:1px solid rgba(110,150,220,.22);
        display:block;
        z-index:1035;
      }
      .bn-inner{
        display:grid;
        grid-template-columns:repeat(5,1fr);
        height:100%;
      }
      .bn-btn{
        display:flex; flex-direction:column;
        align-items:center; justify-content:center;
        font-size:.72rem;
        color:#a8b4c9;
        transition:.2s;
      }
      .bn-btn.active,
      .bn-btn:hover{
        color:#d3e6ff;
      }
    }

  </style>
</head>
<body>

<!-- ============================
     HEADER
=============================== -->
<header class="top-header">
  <h1>TỔ CƠ ĐIỆN</h1>
</header>

<!-- ============================
     BANNER KAIZEN
=============================== -->
<div class="kaizen-wrap">
  <div class="kaizen-banner">
    <div class="kb-surface">

      <div class="kb-layer kb-grid"></div>
      <div class="kb-layer kb-glow"></div>

      <div class="kb-inner">
        <div>
          <div class="kb-title-1">CHỦ ĐỘNG ✦ SÁNG TẠO ✦ HIỆU QUẢ</div>
          <div class="kb-title-2">KAIZEN - KHÔNG NGỪNG CẢI TIẾN</div>

          <div class="kb-5s">
            Seiri (Sàng lọc) • Seiton (Sắp xếp) • Seiso (Sạch sẽ) • Seiketsu (Săn sóc) • Shitsuke (Sẵn sàng)
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- ============================
     NAV MENU
=============================== -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow">
  <div class="container-fluid">

    <button class="navbar-toggler collapsed" type="button"
      data-bs-toggle="collapse" data-bs-target="#navbar-content">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbar-content">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">

        <li class="nav-item"><a class="nav-link" data-target="mainFrame" href="#">TRANG CHỦ</a></li>
        <li class="nav-item"><a class="nav-link iframe-link" data-target="taskListFrame" href="#">BẢNG CÔNG VIỆC</a></li>
        <li class="nav-item"><a class="nav-link iframe-link" data-target="planListFrame" href="#">DỰ KIẾN</a></li>
        <li class="nav-item"><a class="nav-link iframe-link" data-target="maintListFrame" href="#">BẢO DƯỠNG</a></li>
        <li class="nav-item"><a class="nav-link iframe-link" data-target="MTCVFrame" href="#">PHÂN CÔNG</a></li>
        <li class="nav-item"><a class="nav-link iframe-link" data-target="WaterRecordFrame" href="#">CHỈ SỐ NƯỚC</a></li>
        <li class="nav-item"><a class="nav-link iframe-link" data-target="TaskReportFrame" href="#">BÁO CÁO</a></li>
        <li class="nav-item"><a class="nav-link iframe-link" data-target="chamcongFrame" href="#">CHẤM CÔNG</a></li>

      </ul>
    </div>

  </div>
</nav>

<!-- ============================
     IFRAMES — ALWAYS LOADED (fix PC)
=============================== -->
<div class="content-wrapper">
  <div class="frame-wrap">

    <!-- Trang chủ (tạm để trống) -->
    <iframe id="mainFrame" src=""></iframe>

    <iframe id="taskListFrame"  src=""></iframe>

    <iframe id="planListFrame"  src="https://script.google.com/macros/s/AKfycby6kstI0YU3rdAR7txXXudD_83JET2x7AzFzufPdOmxuz4xS0M35tsGn4i1z9CGXA-C/exec"></iframe>

    <iframe id="maintListFrame" src="https://script.google.com/macros/s/AKfycbxeuGMrHlOt03JdRXAeU-JBQn-hoOF0SOuX1_gH9VAGZ6dxQ8HOqnb9WGvn5ZOH1mCt9g/exec"></iframe>

    <iframe id="MTCVFrame"     src="https://script.google.com/macros/s/AKfycbyK1iyc0eck7seY7kqmGOb6V1MYVv_Ue43q2dYzKFeby329xHaQBtFj2WdDweW46NLA/exec"></iframe>

    <iframe id="WaterRecordFrame"  src="https://script.google.com/macros/s/AKfycbwTbLHDiGjq4rcUwb6b6MLBM_junEEcJdVAlzZt1C25phiwIQG4uBnSEqpFu98I1wE/exec"></iframe>

    <iframe id="TaskReportFrame"   src="https://script.google.com/macros/s/AKfycbzwCj7p9fYzDMmeoEMnmdSmG__XTMAdEoBi17GLPR-r5gPXpoiypiK7GVdK3yodP0iT/exec"></iframe>

    <iframe id="DXVTFrame"         src="https://script.google.com/macros/s/AKfycbzrrIMJ4N5ymEMEV6EkOQy2qTH1ApZtdb4bn8h1sLPbCUE-upwxxlW-tvyNWOzAuwmX/exec"></iframe>

    <iframe id="MotorCurrentFrame" src="https://script.google.com/macros/s/AKfycbxpHonjPCZ9Vin42ZATGEPGD09XWZ8MI76MI1kuE3lwHKV09_Yb_XeL193SVvnrSthe/exec"></iframe>

    <iframe id="chamcongFrame"     src="https://script.google.com/macros/s/AKfycbxG7IU2Nvv4IFmmcZnu4N_SWaNAKRYnNzElRan5ZiAaNqjb2GRdRpg-yyYCIZ95Gc6y2w/exec"></iframe>

    <iframe id="bearingFrame" src="https://script.google.com/macros/s/AKfycbww7MA7xaZG2UJQWAc0NBwbl-bZPcjmic5XOUDFk_NR7OylFdv3OG2rxUUXRGy1w1BD/exec"></iframe>

    <iframe id="vbeltsFrame" src=""></iframe>

  </div>
</div>

<!-- ============================
     MOBILE BOTTOM NAV
=============================== -->
<nav class="bottom-nav d-lg-none">
  <div class="bn-inner">
    <a href="#" class="bn-btn" data-target="mainFrame"><i class="bi bi-house"></i><div>Trang chủ</div></a>
    <a href="#" class="bn-btn" data-target="taskListFrame"><i class="bi bi-card-checklist"></i><div>Công việc</div></a>
    <a href="#" class="bn-btn" data-target="planListFrame"><i class="bi bi-calendar-event"></i><div>Dự kiến</div></a>
    <a href="#" class="bn-btn" data-target="maintListFrame"><i class="bi bi-gear"></i><div>Bảo dưỡng</div></a>
    <a href="#" class="bn-btn" data-target="TaskReportFrame"><i class="bi bi-graph-up"></i><div>Báo cáo</div></a>
  </div>
</nav>
<!-- ============================================
     SCRIPT NGOÀI – Bootstrap
     ============================================ -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" defer></script>
													 

<!-- ============================================
     APP SCRIPT – ĐIỀU HƯỚNG IFRAME + HIỆU ỨNG
     ============================================ -->
<script defer>
/* Điều khiển chuyển đổi giữa các iframe khi click menu */
window.addEventListener('DOMContentLoaded', function () {

  const menuLinks = document.querySelectorAll('.iframe-link, .nav-link[data-target]');
  const bottomBtns = document.querySelectorAll('.bottom-nav .bn-btn[data-target]');
  const frames = document.querySelectorAll('iframe');

  /* Collapse menu cho mobile */
  const navbarCollapseEl = document.getElementById('navbar-content');
  const navCollapse = new bootstrap.Collapse(navbarCollapseEl, { toggle: false });

  function collapseIfMobile(){
    if(window.matchMedia('(max-width: 991.98px)').matches) navCollapse.hide();
						 
	 
  }

  /* Set trạng thái active cho menu */
  function setActiveLink(targetId){
    menuLinks.forEach(l=>{
      l.classList.toggle('active', l.getAttribute('data-target')===targetId);
    });
    bottomBtns.forEach(b=>{
      b.classList.toggle('active', b.getAttribute('data-target')===targetId);
    });
	 
										  
				  
  }

  /* Hiển thị iframe tương ứng + hiệu ứng chuyển cảnh */
  function activateFrame(targetId){
    frames.forEach(f=>{
      f.classList.remove('active');
	   
							
      f.classList.remove('fade-anim');
    });
    const t=document.getElementById(targetId);
    if(t){
      t.classList.add('active');
      // restart animation
      void t.offsetWidth;
      t.classList.add('fade-anim');
    }

    try{ localStorage.setItem('lastFrameId',targetId);}catch(e){}
    setActiveLink(targetId);
  }

  /* Xử lý click menu */
  function handleClick(e){
    e.preventDefault();
    const targetId=this.getAttribute('data-target');
    if(!targetId) return;
    activateFrame(targetId);
    collapseIfMobile();
  }

  menuLinks.forEach(l=>l.addEventListener('click',handleClick));
  bottomBtns.forEach(b=>b.addEventListener('click',handleClick));

  /* Khôi phục iframe cuối cùng */
  let defaultFrame='mainFrame';
  try{
    const saved=localStorage.getItem('lastFrameId');
    if(saved && document.getElementById(saved)) defaultFrame=saved;
  }catch(e){}
  activateFrame(defaultFrame);
});
</script>

</body>
</html>
